"use strict";

require("core-js/modules/es.object.to-string.js");

require("core-js/modules/es.function.name.js");

require("core-js/modules/es.regexp.exec.js");

var _sliceInstanceProperty2 = require("@babel/runtime-corejs3/core-js-stable/instance/slice");

var _Array$from = require("@babel/runtime-corejs3/core-js-stable/array/from");

var _Symbol = require("@babel/runtime-corejs3/core-js-stable/symbol");

var _getIteratorMethod = require("@babel/runtime-corejs3/core-js/get-iterator-method");

var _Array$isArray = require("@babel/runtime-corejs3/core-js-stable/array/is-array");

var _Object$defineProperty = require("@babel/runtime-corejs3/core-js-stable/object/define-property");

var _interopRequireDefault = require("@babel/runtime-corejs3/helpers/interopRequireDefault");

_Object$defineProperty(exports, "__esModule", {
  value: true
});

exports.START_WORD = exports.RESIVER_RESPONSES = exports.REJECT_REASONS = exports.FAILURE_CODES = exports.ENQ = exports.COUNTRY_TYPE_TABLE = exports.CODES_OF_TRANSMITTER = exports.CODES_OF_RESSIVER = void 0;
exports.crc = crc;
exports.formatMessage = formatMessage;
exports.isValidCommandCode = isValidCommandCode;
exports.isValidResponse = isValidResponse;
exports.parseCurrencyTable = parseCurrencyTable;

var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime-corejs3/helpers/toConsumableArray"));

var _freeze = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/object/freeze"));

var _map = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/map"));

var _slice = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/slice"));

var _values = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/object/values"));

var _includes = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/includes"));

var _concat = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/concat"));

var _logger = require("../../../helpers/logger");

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof _Symbol !== "undefined" && _getIteratorMethod(o) || o["@@iterator"]; if (!it) { if (_Array$isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { var _context2; if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = _sliceInstanceProperty2(_context2 = Object.prototype.toString.call(o)).call(_context2, 8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return _Array$from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

var log = new _logger.Logger("[ID003-helpers]");
var CODES_OF_TRANSMITTER = (0, _freeze.default)({
  STATUS_REQUEST: 0x11,
  ACK: 0x50,
  OPERATION_COMMAND: {
    RESET: 0x40,
    STACK_1: 0x41,
    STACK_2: 0x42,
    RETURN: 0x43,
    HOLD: 0x44,
    WAIT: 0x45
  },
  SETTING_COMMAND: {
    ENABLE_DISABLE: 0xc0,
    SECURITY: 0xc1,
    COMMUNICATION_MODE: 0xc2,
    INHIBIT_ACCEPTOR: 0xc3,
    DIRECTION: 0xc4,
    OPTIONAL_FUNCTION: 0xc5
  },
  SETTING_STATUS_REQUEST: {
    ENABLE_DISABLE: 0x80,
    SECURITY: 0x81,
    COMMUNICATION_MODE: 0x82,
    INHIBIT_ACCEPTOR: 0x83,
    DIRECTION: 0x84,
    OPTIONAL_FUNCTION: 0x85,
    VERSION_REQUEST: 0x88,
    BOOT_VERSION_REQUEST: 0x89,
    CURRENCY_ASSIGN_REQUEST: 0x8a
  }
});
exports.CODES_OF_TRANSMITTER = CODES_OF_TRANSMITTER;
var RESIVER_RESPONSES = (0, _freeze.default)({
  STATUS: {
    ENABLE_IDLING: 0x11,
    ACCEPTING: 0x12,
    ESCROW: 0x13,
    STACKING: 0x14,
    VEND_VALID: 0x15,
    STACKED: 0x16,
    REJECTING: 0x17,
    RETURNING: 0x18,
    HOLDING: 0x19,
    DISABLED_INHIBIT: 0x1a,
    INITIALIZE: 0x1b
  },
  POWER_UP_STATUS: {
    POWER_UP: 0x40,
    POWER_UP_WITH_BILL_IN_ACCEPTOR: 0x41,
    POWER_UP_WITH_BILL_IN_STACKER: 0x42
  },
  ERROR_STATUS: {
    STACKER_FULL: 0x43,
    STACKER_OPEN: 0x44,
    JAM_IN_ACCEPTOR: 0x45,
    JAM_IN_STACKER: 0x46,
    PAUSE: 0x47,
    CHEATED: 0x48,
    FAILURE: 0x49,
    COMMUNICATION_ERROR: 0x4a
  },
  POLL_REQUEST: 0x05,
  RESPONSE_TO_OPERATION_COMMAND: {
    ACK: 0x50,
    INVALID_COMMAND: 0x48
  },
  RESPONSE_TO_SETTING_COMMAND: {
    ENABLE_DISABLE: 0x80,
    SECURITY: 0x81,
    COMMUNICATION_MODE: 0x82,
    INHIBIT_ACCEPTOR: 0x83,
    DIRECTION: 0x84,
    OPTIONAL_FUNCTION: 0x85,
    VERSION_INFORMATION: 0x88,
    BOOT_VERSION_INFORMATION: 0x89,
    DENOMINATION_DATA: 0x8a
  }
});
exports.RESIVER_RESPONSES = RESIVER_RESPONSES;
var ENQ = 0x05;
exports.ENQ = ENQ;
var CODES_OF_RESSIVER = (0, _freeze.default)({
  STATUS: new _map.default([[0x11, "ENABLE IDLING"], [0x12, "ACCEPTING"], [0x13, "ESCROW"], [0x14, "STACKING"], [0x15, "VEND VALID"], [0x16, "STACKED"], [0x17, "REJECTING"], [0x18, "RETURNING"], [0x19, "HOLDING"], [0x1a, "DISABLED INHIBIT"], [0x1b, "INITIALIZE"]]),
  POWER_UP_STATUS: new _map.default([[0x40, "POWER UP"], [0x41, "POWER UP WITH BILL IN ACCEPTOR"], [0x42, "POWER UP WITH BILL IN STACKER"]]),
  ERROR_STATUS: new _map.default([[0x43, "STACKER FULL"], [0x44, "STACKER OPEN"], [0x45, "JAM IN ACCEPTOR"], [0x46, "JAM IN STACKER"], [0x47, "PAUSE"], [0x48, "CHEATED"], [0x49, "FAILURE"], [0x4a, "COMMUNICATION ERROR"]]),
  RESPONSE_TO_OPERATION_COMMAND: new _map.default([[0x50, "ACK"], [0x48, "INVALID COMMAND"]]),
  RESPONSE_TO_SETTING_COMMAND: new _map.default([[0x80, "ENABLE DISABLE"], [0x81, "SECURITY"], [0x82, "COMMUNICATION_MODE"], [0x83, "INHIBIT ACCEPTOR"], [0x84, "DIRECTION"], [0x85, "OPTIONAL FUNCTION"], [0x88, "VERSION INFORMATION"], [0x89, "BOOT VERSION INFORMATION"], [0x8a, "DENOMINATION DATA"]])
});
exports.CODES_OF_RESSIVER = CODES_OF_RESSIVER;
var FAILURE_CODES = new _map.default([[0xa2, "Stack motor failure"], [0xa5, "Transport (feed) motor speed failure"], [0xa6, "Transport (feed) motor failure"], [0xa8, "Solenoid Failure"], [0xa9, "PB Unit failure"], [0xab, "Cash box not ready"], [0xaf, "Validator head remove"], [0xb0, "BOOT ROM failure"], [0xb1, "External ROM failure"], [0xb2, "RAM failure"], [0xb3, "External ROM writing failure"]]);
exports.FAILURE_CODES = FAILURE_CODES;
var REJECT_REASONS = new _map.default([[0x71, "Insertion error"], [0x72, "Mug error"], [0x73, "Return action due to residual bills, etc. (at the head part of ACCEPTOR)"], [0x74, "Calibration error/ Magnification error"], [0x75, "Conveying error"], [0x76, "Discrimination error for bill denomination"], [0x77, "Photo pattern error"], [0x78, "Photo level error"], [0x79, "Return by INHIBIT: Error of insertion direction/ Error of bill denomination. No command sent answering to ESCROW"], [0x7a, "Reserved"], [0x7b, "Operation error"], [0x7c, "Return action due to residual bills, etc. (at the stacker)"], [0x7d, "Length error"], [0x7e, "Photo pattern error"], // Duplicate?
[0x7f, "True bill feature error"]]);
exports.REJECT_REASONS = REJECT_REASONS;
var START_WORD = 0xfc;
exports.START_WORD = START_WORD;
var COUNTRY_TYPE_TABLE = new _map.default([[0x5c, "UAH"]]);
exports.COUNTRY_TYPE_TABLE = COUNTRY_TYPE_TABLE;

function isValidResponse(message) {
  if (!message) {
    // log.debugError("Empty message", message);
    return false;
  }

  if (message[0] !== START_WORD) {
    // log.debugError("Invalid start word", message);
    return false;
  }

  if (message[1] !== message.length) {
    // log.debugError("Invalid length fact: " + message.length + "in message: " + message[1]);
    return false;
  }

  var flag = false;

  for (var _i = 0, _arr = [CODES_OF_RESSIVER.STATUS, CODES_OF_RESSIVER.POWER_UP_STATUS, CODES_OF_RESSIVER.ERROR_STATUS, CODES_OF_RESSIVER.RESPONSE_TO_OPERATION_COMMAND, CODES_OF_RESSIVER.RESPONSE_TO_SETTING_COMMAND]; _i < _arr.length; _i++) {
    var map = _arr[_i];

    if (map.has(message[2])) {
      flag = true;
    }
  }

  if (message[2] !== ENQ) {
    flag = true;
  }

  if (!flag) {
    // log.debugError("Invalid response command!");
    return false;
  }

  var calculatedCRC = crc((0, _slice.default)(message).call(message, 0, message.length - 2));
  var upperByte = message[message.length - 2];
  var lowerByte = message[message.length - 1];

  if (calculatedCRC[0] !== upperByte) {
    return false;
  }

  if (calculatedCRC[1] !== lowerByte) {
    return false;
  }

  return true;
}

function isValidCommandCode(code) {
  var codes = [CODES_OF_TRANSMITTER.STATUS_REQUEST, CODES_OF_TRANSMITTER.ACK];
  codes.push.apply(codes, (0, _toConsumableArray2.default)((0, _values.default)(CODES_OF_TRANSMITTER.OPERATION_COMMAND)));
  codes.push.apply(codes, (0, _toConsumableArray2.default)((0, _values.default)(CODES_OF_TRANSMITTER.SETTING_COMMAND)));
  codes.push.apply(codes, (0, _toConsumableArray2.default)((0, _values.default)(CODES_OF_TRANSMITTER.SETTING_STATUS_REQUEST)));
  return (0, _includes.default)(codes).call(codes, code);
}

function parseCurrencyTable(raw) {
  if (RESIVER_RESPONSES.RESPONSE_TO_SETTING_COMMAND.DENOMINATION_DATA !== raw[2]) {
    throw new Error("Invalid data for currency table!");
  }

  var result = [];
  var denominationData = (0, _slice.default)(raw).call(raw, 3, raw.length - 2);

  for (var i = 0; i < denominationData.length; i += 4) {
    var intPart = denominationData[i + 2];
    var exponentPart = Math.pow(10, denominationData[i + 3]);
    result.push({
      denominator: denominationData[i],
      value: intPart * exponentPart,
      currency: denominationData[i + 1]
    });
  }

  return result;
}

function formatMessage(code, data) {
  var _context;

  var message = [START_WORD, 0];

  if (code > 0xc6 || code < 0x10) {
    throw new RangeError("Invalid command code!");
  }

  message.push(code);

  if (data !== undefined) {
    message.push.apply(message, (0, _toConsumableArray2.default)(data));
  }

  message[1] = message.length + 2;
  var calculatedCRC = crc(message);
  return (0, _concat.default)(_context = []).call(_context, message, (0, _toConsumableArray2.default)(calculatedCRC));
}

function crc(data) {
  var TABLE = [0x0000, 0x1189, 0x2312, 0x329b, 0x4624, 0x57ad, 0x6536, 0x74bf, 0x8c48, 0x9dc1, 0xaf5a, 0xbed3, 0xca6c, 0xdbe5, 0xe97e, 0xf8f7, 0x1081, 0x0108, 0x3393, 0x221a, 0x56a5, 0x472c, 0x75b7, 0x643e, 0x9cc9, 0x8d40, 0xbfdb, 0xae52, 0xdaed, 0xcb64, 0xf9ff, 0xe876, 0x2102, 0x308b, 0x0210, 0x1399, 0x6726, 0x76af, 0x4434, 0x55bd, 0xad4a, 0xbcc3, 0x8e58, 0x9fd1, 0xeb6e, 0xfae7, 0xc87c, 0xd9f5, 0x3183, 0x200a, 0x1291, 0x0318, 0x77a7, 0x662e, 0x54b5, 0x453c, 0xbdcb, 0xac42, 0x9ed9, 0x8f50, 0xfbef, 0xea66, 0xd8fd, 0xc974, 0x4204, 0x538d, 0x6116, 0x709f, 0x0420, 0x15a9, 0x2732, 0x36bb, 0xce4c, 0xdfc5, 0xed5e, 0xfcd7, 0x8868, 0x99e1, 0xab7a, 0xbaf3, 0x5285, 0x430c, 0x7197, 0x601e, 0x14a1, 0x0528, 0x37b3, 0x263a, 0xdecd, 0xcf44, 0xfddf, 0xec56, 0x98e9, 0x8960, 0xbbfb, 0xaa72, 0x6306, 0x728f, 0x4014, 0x519d, 0x2522, 0x34ab, 0x0630, 0x17b9, 0xef4e, 0xfec7, 0xcc5c, 0xddd5, 0xa96a, 0xb8e3, 0x8a78, 0x9bf1, 0x7387, 0x620e, 0x5095, 0x411c, 0x35a3, 0x242a, 0x16b1, 0x0738, 0xffcf, 0xee46, 0xdcdd, 0xcd54, 0xb9eb, 0xa862, 0x9af9, 0x8b70, 0x8408, 0x9581, 0xa71a, 0xb693, 0xc22c, 0xd3a5, 0xe13e, 0xf0b7, 0x0840, 0x19c9, 0x2b52, 0x3adb, 0x4e64, 0x5fed, 0x6d76, 0x7cff, 0x9489, 0x8500, 0xb79b, 0xa612, 0xd2ad, 0xc324, 0xf1bf, 0xe036, 0x18c1, 0x0948, 0x3bd3, 0x2a5a, 0x5ee5, 0x4f6c, 0x7df7, 0x6c7e, 0xa50a, 0xb483, 0x8618, 0x9791, 0xe32e, 0xf2a7, 0xc03c, 0xd1b5, 0x2942, 0x38cb, 0x0a50, 0x1bd9, 0x6f66, 0x7eef, 0x4c74, 0x5dfd, 0xb58b, 0xa402, 0x9699, 0x8710, 0xf3af, 0xe226, 0xd0bd, 0xc134, 0x39c3, 0x284a, 0x1ad1, 0x0b58, 0x7fe7, 0x6e6e, 0x5cf5, 0x4d7c, 0xc60c, 0xd785, 0xe51e, 0xf497, 0x8028, 0x91a1, 0xa33a, 0xb2b3, 0x4a44, 0x5bcd, 0x6956, 0x78df, 0x0c60, 0x1de9, 0x2f72, 0x3efb, 0xd68d, 0xc704, 0xf59f, 0xe416, 0x90a9, 0x8120, 0xb3bb, 0xa232, 0x5ac5, 0x4b4c, 0x79d7, 0x685e, 0x1ce1, 0x0d68, 0x3ff3, 0x2e7a, 0xe70e, 0xf687, 0xc41c, 0xd595, 0xa12a, 0xb0a3, 0x8238, 0x93b1, 0x6b46, 0x7acf, 0x4854, 0x59dd, 0x2d62, 0x3ceb, 0x0e70, 0x1ff9, 0xf78f, 0xe606, 0xd49d, 0xc514, 0xb1ab, 0xa022, 0x92b9, 0x8330, 0x7bc7, 0x6a4e, 0x58d5, 0x495c, 0x3de3, 0x2c6a, 0x1ef1, 0x0f78];
  var crc = 0x00000;

  var _iterator = _createForOfIteratorHelper(data),
      _step;

  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var elem = _step.value;
      crc = crc >> 8 ^ TABLE[(crc ^ elem) & 0xff];
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }

  var result = [];

  for (var i = 0; i < 2; ++i) {
    result.push(crc >> 8 * i & 0xff);
  }

  return result;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9kZXZpY2VzL2FjY2NlcHRvci9JRDAwMy9jb25zdGFudHMudHMiXSwibmFtZXMiOlsibG9nIiwiTG9nZ2VyIiwiQ09ERVNfT0ZfVFJBTlNNSVRURVIiLCJTVEFUVVNfUkVRVUVTVCIsIkFDSyIsIk9QRVJBVElPTl9DT01NQU5EIiwiUkVTRVQiLCJTVEFDS18xIiwiU1RBQ0tfMiIsIlJFVFVSTiIsIkhPTEQiLCJXQUlUIiwiU0VUVElOR19DT01NQU5EIiwiRU5BQkxFX0RJU0FCTEUiLCJTRUNVUklUWSIsIkNPTU1VTklDQVRJT05fTU9ERSIsIklOSElCSVRfQUNDRVBUT1IiLCJESVJFQ1RJT04iLCJPUFRJT05BTF9GVU5DVElPTiIsIlNFVFRJTkdfU1RBVFVTX1JFUVVFU1QiLCJWRVJTSU9OX1JFUVVFU1QiLCJCT09UX1ZFUlNJT05fUkVRVUVTVCIsIkNVUlJFTkNZX0FTU0lHTl9SRVFVRVNUIiwiUkVTSVZFUl9SRVNQT05TRVMiLCJTVEFUVVMiLCJFTkFCTEVfSURMSU5HIiwiQUNDRVBUSU5HIiwiRVNDUk9XIiwiU1RBQ0tJTkciLCJWRU5EX1ZBTElEIiwiU1RBQ0tFRCIsIlJFSkVDVElORyIsIlJFVFVSTklORyIsIkhPTERJTkciLCJESVNBQkxFRF9JTkhJQklUIiwiSU5JVElBTElaRSIsIlBPV0VSX1VQX1NUQVRVUyIsIlBPV0VSX1VQIiwiUE9XRVJfVVBfV0lUSF9CSUxMX0lOX0FDQ0VQVE9SIiwiUE9XRVJfVVBfV0lUSF9CSUxMX0lOX1NUQUNLRVIiLCJFUlJPUl9TVEFUVVMiLCJTVEFDS0VSX0ZVTEwiLCJTVEFDS0VSX09QRU4iLCJKQU1fSU5fQUNDRVBUT1IiLCJKQU1fSU5fU1RBQ0tFUiIsIlBBVVNFIiwiQ0hFQVRFRCIsIkZBSUxVUkUiLCJDT01NVU5JQ0FUSU9OX0VSUk9SIiwiUE9MTF9SRVFVRVNUIiwiUkVTUE9OU0VfVE9fT1BFUkFUSU9OX0NPTU1BTkQiLCJJTlZBTElEX0NPTU1BTkQiLCJSRVNQT05TRV9UT19TRVRUSU5HX0NPTU1BTkQiLCJWRVJTSU9OX0lORk9STUFUSU9OIiwiQk9PVF9WRVJTSU9OX0lORk9STUFUSU9OIiwiREVOT01JTkFUSU9OX0RBVEEiLCJFTlEiLCJDT0RFU19PRl9SRVNTSVZFUiIsIkZBSUxVUkVfQ09ERVMiLCJSRUpFQ1RfUkVBU09OUyIsIlNUQVJUX1dPUkQiLCJDT1VOVFJZX1RZUEVfVEFCTEUiLCJpc1ZhbGlkUmVzcG9uc2UiLCJtZXNzYWdlIiwibGVuZ3RoIiwiZmxhZyIsIm1hcCIsImhhcyIsImNhbGN1bGF0ZWRDUkMiLCJjcmMiLCJ1cHBlckJ5dGUiLCJsb3dlckJ5dGUiLCJpc1ZhbGlkQ29tbWFuZENvZGUiLCJjb2RlIiwiY29kZXMiLCJwdXNoIiwicGFyc2VDdXJyZW5jeVRhYmxlIiwicmF3IiwiRXJyb3IiLCJyZXN1bHQiLCJkZW5vbWluYXRpb25EYXRhIiwiaSIsImludFBhcnQiLCJleHBvbmVudFBhcnQiLCJNYXRoIiwicG93IiwiZGVub21pbmF0b3IiLCJ2YWx1ZSIsImN1cnJlbmN5IiwiZm9ybWF0TWVzc2FnZSIsImRhdGEiLCJSYW5nZUVycm9yIiwidW5kZWZpbmVkIiwiVEFCTEUiLCJlbGVtIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7OztBQUVBLElBQU1BLEdBQUcsR0FBRyxJQUFJQyxjQUFKLENBQVcsaUJBQVgsQ0FBWjtBQUVPLElBQU1DLG9CQUFvQixHQUFHLHFCQUFjO0FBQ2hEQyxFQUFBQSxjQUFjLEVBQUUsSUFEZ0M7QUFFaERDLEVBQUFBLEdBQUcsRUFBRSxJQUYyQztBQUdoREMsRUFBQUEsaUJBQWlCLEVBQUU7QUFDakJDLElBQUFBLEtBQUssRUFBRSxJQURVO0FBRWpCQyxJQUFBQSxPQUFPLEVBQUUsSUFGUTtBQUdqQkMsSUFBQUEsT0FBTyxFQUFFLElBSFE7QUFJakJDLElBQUFBLE1BQU0sRUFBRSxJQUpTO0FBS2pCQyxJQUFBQSxJQUFJLEVBQUUsSUFMVztBQU1q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LEVBYTRHLE1BYjVHLENBQWQ7QUFlQSxNQUFJeEIsR0FBRyxHQUFHLE9BQVY7O0FBaEJzRCw2Q0FpQm5DcUIsSUFqQm1DO0FBQUE7O0FBQUE7QUFpQnRELHdEQUF5QjtBQUFBLFVBQWRJLElBQWM7QUFDdkJ6QixNQUFBQSxHQUFHLEdBQUlBLEdBQUcsSUFBSSxDQUFSLEdBQWF3QixLQUFLLENBQUMsQ0FBQ3hCLEdBQUcsR0FBR3lCLElBQVAsSUFBZSxJQUFoQixDQUF4QjtBQUNEO0FBbkJxRDtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQW9CdEQsTUFBTWYsTUFBcUIsR0FBRyxFQUE5Qjs7QUFDQSxPQUFLLElBQUlFLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsQ0FBcEIsRUFBdUIsRUFBRUEsQ0FBekIsRUFBNEI7QUFDMUJGLElBQUFBLE1BQU0sQ0FBQ0osSUFBUCxDQUFhTixHQUFHLElBQUssSUFBSVksQ0FBYixHQUFtQixJQUEvQjtBQUNEOztBQUNELFNBQU9GLE1BQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuLi8uLi8uLi9oZWxwZXJzL2xvZ2dlclwiO1xuXG5jb25zdCBsb2cgPSBuZXcgTG9nZ2VyKFwiW0lEMDAzLWhlbHBlcnNdXCIpO1xuXG5leHBvcnQgY29uc3QgQ09ERVNfT0ZfVFJBTlNNSVRURVIgPSBPYmplY3QuZnJlZXplKHtcbiAgU1RBVFVTX1JFUVVFU1Q6IDB4MTEsXG4gIEFDSzogMHg1MCxcbiAgT1BFUkFUSU9OX0NPTU1BTkQ6IHtcbiAgICBSRVNFVDogMHg0MCxcbiAgICBTVEFDS18xOiAweDQxLFxuICAgIFNUQUNLXzI6IDB4NDIsXG4gICAgUkVUVVJOOiAweDQzLFxuICAgIEhPTEQ6IDB4NDQsXG4gICAgV0FJVDogMHg0NVxuICB9LFxuICBTRVRUSU5HX0NPTU1BTkQ6IHtcbiAgICBFTkFCTEVfRElTQUJMRTogMHhjMCxcbiAgICBTRUNVUklUWTogMHhjMSxcbiAgICBDT01NVU5JQ0FUSU9OX01PREU6IDB4YzIsXG4gICAgSU5ISUJJVF9BQ0NFUFRPUjogMHhjMyxcbiAgICBESVJFQ1RJT046IDB4YzQsXG4gICAgT1BUSU9OQUxfRlVOQ1RJT046IDB4YzVcbiAgfSxcbiAgU0VUVElOR19TVEFUVVNfUkVRVUVTVDoge1xuICAgIEVOQUJMRV9ESVNBQkxFOiAweDgwLFxuICAgIFNFQ1VSSVRZOiAweDgxLFxuICAgIENPTU1VTklDQVRJT05fTU9ERTogMHg4MixcbiAgICBJTkhJQklUX0FDQ0VQVE9SOiAweDgzLFxuICAgIERJUkVDVElPTjogMHg4NCxcbiAgICBPUFRJT05BTF9GVU5DVElPTjogMHg4NSxcbiAgICBWRVJTSU9OX1JFUVVFU1Q6IDB4ODgsXG4gICAgQk9PVF9WRVJTSU9OX1JFUVVFU1Q6IDB4ODksXG4gICAgQ1VSUkVOQ1lfQVNTSUdOX1JFUVVFU1Q6IDB4OGFcbiAgfVxufSk7XG5cbmV4cG9ydCBjb25zdCBSRVNJVkVSX1JFU1BPTlNFUyA9IE9iamVjdC5mcmVlemUoe1xuICBTVEFUVVM6IHtcbiAgICBFTkFCTEVfSURMSU5HOiAweDExLFxuICAgIEFDQ0VQVElORzogMHgxMixcbiAgICBFU0NST1c6IDB4MTMsXG4gICAgU1RBQ0tJTkc6IDB4MTQsXG4gICAgVkVORF9WQUxJRDogMHgxNSxcbiAgICBTVEFDS0VEOiAweDE2LFxuICAgIFJFSkVDVElORzogMHgxNyxcbiAgICBSRVRVUk5JTkc6IDB4MTgsXG4gICAgSE9MRElORzogMHgxOSxcbiAgICBESVNBQkxFRF9JTkhJQklUOiAweDFhLFxuICAgIElOSVRJQUxJWkU6IDB4MWJcbiAgfSxcbiAgUE9XRVJfVVBfU1RBVFVTOiB7XG4gICAgUE9XRVJfVVA6IDB4NDAsXG4gICAgUE9XRVJfVVBfV0lUSF9CSUxMX0lOX0FDQ0VQVE9SOiAweDQxLFxuICAgIFBPV0VSX1VQX1dJVEhfQklMTF9JTl9TVEFDS0VSOiAweDQyXG4gIH0sXG4gIEVSUk9SX1NUQVRVUzoge1xuICAgIFNUQUNLRVJfRlVMTDogMHg0MyxcbiAgICBTVEFDS0VSX09QRU46IDB4NDQsXG4gICAgSkFNX0lOX0FDQ0VQVE9SOiAweDQ1LFxuICAgIEpBTV9JTl9TVEFDS0VSOiAweDQ2LFxuICAgIFBBVVNFOiAweDQ3LFxuICAgIENIRUFURUQ6IDB4NDgsXG4gICAgRkFJTFVSRTogMHg0OSxcbiAgICBDT01NVU5JQ0FUSU9OX0VSUk9SOiAweDRhXG4gIH0sXG4gIFBPTExfUkVRVUVTVDogMHgwNSxcbiAgUkVTUE9OU0VfVE9fT1BFUkFUSU9OX0NPTU1BTkQ6IHtcbiAgICBBQ0s6IDB4NTAsXG4gICAgSU5WQUxJRF9DT01NQU5EOiAweDQ4XG4gIH0sXG4gIFJFU1BPTlNFX1RPX1NFVFRJTkdfQ09NTUFORDoge1xuICAgIEVOQUJMRV9ESVNBQkxFOiAweDgwLFxuICAgIFNFQ1VSSVRZOiAweDgxLFxuICAgIENPTU1VTklDQVRJT05fTU9ERTogMHg4MixcbiAgICBJTkhJQklUX0FDQ0VQVE9SOiAweDgzLFxuICAgIERJUkVDVElPTjogMHg4NCxcbiAgICBPUFRJT05BTF9GVU5DVElPTjogMHg4NSxcbiAgICBWRVJTSU9OX0lORk9STUFUSU9OOiAweDg4LFxuICAgIEJPT1RfVkVSU0lPTl9JTkZPUk1BVElPTjogMHg4OSxcbiAgICBERU5PTUlOQVRJT05fREFUQTogMHg4YVxuICB9XG59KTtcblxuZXhwb3J0IGNvbnN0IEVOUSA9IDB4MDU7XG5cbmV4cG9ydCBjb25zdCBDT0RFU19PRl9SRVNTSVZFUiA9IE9iamVjdC5mcmVlemUoe1xuICBTVEFUVVM6IG5ldyBNYXA8bnVtYmVyLCBzdHJpbmc+KFtcbiAgICBbMHgxMSwgXCJFTkFCTEUgSURMSU5HXCJdLFxuICAgIFsweDEyLCBcIkFDQ0VQVElOR1wiXSxcbiAgICBbMHgxMywgXCJFU0NST1dcIl0sXG4gICAgWzB4MTQsIFwiU1RBQ0tJTkdcIl0sXG4gICAgWzB4MTUsIFwiVkVORCBWQUxJRFwiXSxcbiAgICBbMHgxNiwgXCJTVEFDS0VEXCJdLFxuICAgIFsweDE3LCBcIlJFSkVDVElOR1wiXSxcbiAgICBbMHgxOCwgXCJSRVRVUk5JTkdcIl0sXG4gICAgWzB4MTksIFwiSE9MRElOR1wiXSxcbiAgICBbMHgxYSwgXCJESVNBQkxFRCBJTkhJQklUXCJdLFxuICAgIFsweDFiLCBcIklOSVRJQUxJWkVcIl1cbiAgXSksXG5cbiAgUE9XRVJfVVBfU1RBVFVTOiBuZXcgTWFwPG51bWJlciwgc3RyaW5nPihbXG4gICAgWzB4NDAsIFwiUE9XRVIgVVBcIl0sXG4gICAgWzB4NDEsIFwiUE9XRVIgVVAgV0lUSCBCSUxMIElOIEFDQ0VQVE9SXCJdLFxuICAgIFsweDQyLCBcIlBPV0VSIFVQIFdJVEggQklMTCBJTiBTVEFDS0VSXCJdXG4gIF0pLFxuXG4gIEVSUk9SX1NUQVRVUzogbmV3IE1hcDxudW1iZXIsIHN0cmluZz4oW1xuICAgIFsweDQzLCBcIlNUQUNLRVIgRlVMTFwiXSxcbiAgICBbMHg0NCwgXCJTVEFDS0VSIE9QRU5cIl0sXG4gICAgWzB4NDUsIFwiSkFNIElOIEFDQ0VQVE9SXCJdLFxuICAgIFsweDQ2LCBcIkpBTSBJTiBTVEFDS0VSXCJdLFxuICAgIFsweDQ3LCBcIlBBVVNFXCJdLFxuICAgIFsweDQ4LCBcIkNIRUFURURcIl0sXG4gICAgWzB4NDksIFwiRkFJTFVSRVwiXSxcbiAgICBbMHg0YSwgXCJDT01NVU5JQ0FUSU9OIEVSUk9SXCJdXG4gIF0pLFxuXG4gIFJFU1BPTlNFX1RPX09QRVJBVElPTl9DT01NQU5EOiBuZXcgTWFwPG51bWJlciwgc3RyaW5nPihbXG4gICAgWzB4NTAsIFwiQUNLXCJdLFxuICAgIFsweDQ4LCBcIklOVkFMSUQgQ09NTUFORFwiXVxuICBdKSxcblxuICBSRVNQT05TRV9UT19TRVRUSU5HX0NPTU1BTkQ6IG5ldyBNYXA8bnVtYmVyLCBzdHJpbmc+KFtcbiAgICBbMHg4MCwgXCJFTkFCTEUgRElTQUJMRVwiXSxcbiAgICBbMHg4MSwgXCJTRUNVUklUWVwiXSxcbiAgICBbMHg4MiwgXCJDT01NVU5JQ0FUSU9OX01PREVcIl0sXG4gICAgWzB4ODMsIFwiSU5ISUJJVCBBQ0NFUFRPUlwiXSxcbiAgICBbMHg4NCwgXCJESVJFQ1RJT05cIl0sXG4gICAgWzB4ODUsIFwiT1BUSU9OQUwgRlVOQ1RJT05cIl0sXG4gICAgWzB4ODgsIFwiVkVSU0lPTiBJTkZPUk1BVElPTlwiXSxcbiAgICBbMHg4OSwgXCJCT09UIFZFUlNJT04gSU5GT1JNQVRJT05cIl0sXG4gICAgWzB4OGEsIFwiREVOT01JTkFUSU9OIERBVEFcIl1cbiAgXSlcbn0pO1xuXG5leHBvcnQgY29uc3QgRkFJTFVSRV9DT0RFUyA9IG5ldyBNYXA8bnVtYmVyLCBzdHJpbmc+KFtcbiAgWzB4YTIsIFwiU3RhY2sgbW90b3IgZmFpbHVyZVwiXSxcbiAgWzB4YTUsIFwiVHJhbnNwb3J0IChmZWVkKSBtb3RvciBzcGVlZCBmYWlsdXJlXCJdLFxuICBbMHhhNiwgXCJUcmFuc3BvcnQgKGZlZWQpIG1vdG9yIGZhaWx1cmVcIl0sXG4gIFsweGE4LCBcIlNvbGVub2lkIEZhaWx1cmVcIl0sXG4gIFsweGE5LCBcIlBCIFVuaXQgZmFpbHVyZVwiXSxcbiAgWzB4YWIsIFwiQ2FzaCBib3ggbm90IHJlYWR5XCJdLFxuICBbMHhhZiwgXCJWYWxpZGF0b3IgaGVhZCByZW1vdmVcIl0sXG4gIFsweGIwLCBcIkJPT1QgUk9NIGZhaWx1cmVcIl0sXG4gIFsweGIxLCBcIkV4dGVybmFsIFJPTSBmYWlsdXJlXCJdLFxuICBbMHhiMiwgXCJSQU0gZmFpbHVyZVwiXSxcbiAgWzB4YjMsIFwiRXh0ZXJuYWwgUk9NIHdyaXRpbmcgZmFpbHVyZVwiXVxuXSk7XG5cbmV4cG9ydCBjb25zdCBSRUpFQ1RfUkVBU09OUyA9IG5ldyBNYXA8bnVtYmVyLCBzdHJpbmc+KFtcbiAgWzB4NzEsIFwiSW5zZXJ0aW9uIGVycm9yXCJdLFxuICBbMHg3MiwgXCJNdWcgZXJyb3JcIl0sXG4gIFsweDczLCBcIlJldHVybiBhY3Rpb24gZHVlIHRvIHJlc2lkdWFsIGJpbGxzLCBldGMuIChhdCB0aGUgaGVhZCBwYXJ0IG9mIEFDQ0VQVE9SKVwiXSxcbiAgWzB4NzQsIFwiQ2FsaWJyYXRpb24gZXJyb3IvIE1hZ25pZmljYXRpb24gZXJyb3JcIl0sXG4gIFsweDc1LCBcIkNvbnZleWluZyBlcnJvclwiXSxcbiAgWzB4NzYsIFwiRGlzY3JpbWluYXRpb24gZXJyb3IgZm9yIGJpbGwgZGVub21pbmF0aW9uXCJdLFxuICBbMHg3NywgXCJQaG90byBwYXR0ZXJuIGVycm9yXCJdLFxuICBbMHg3OCwgXCJQaG90byBsZXZlbCBlcnJvclwiXSxcbiAgWzB4NzksIFwiUmV0dXJuIGJ5IElOSElCSVQ6IEVycm9yIG9mIGluc2VydGlvbiBkaXJlY3Rpb24vIEVycm9yIG9mIGJpbGwgZGVub21pbmF0aW9uLiBObyBjb21tYW5kIHNlbnQgYW5zd2VyaW5nIHRvIEVTQ1JPV1wiXSxcbiAgWzB4N2EsIFwiUmVzZXJ2ZWRcIl0sXG4gIFsweDdiLCBcIk9wZXJhdGlvbiBlcnJvclwiXSxcbiAgWzB4N2MsIFwiUmV0dXJuIGFjdGlvbiBkdWUgdG8gcmVzaWR1YWwgYmlsbHMsIGV0Yy4gKGF0IHRoZSBzdGFja2VyKVwiXSxcbiAgWzB4N2QsIFwiTGVuZ3RoIGVycm9yXCJdLFxuICBbMHg3ZSwgXCJQaG90byBwYXR0ZXJuIGVycm9yXCJdLCAvLyBEdXBsaWNhdGU/XG4gIFsweDdmLCBcIlRydWUgYmlsbCBmZWF0dXJlIGVycm9yXCJdXG5dKTtcblxuZXhwb3J0IGNvbnN0IFNUQVJUX1dPUkQgPSAweGZjO1xuXG5leHBvcnQgY29uc3QgQ09VTlRSWV9UWVBFX1RBQkxFID0gbmV3IE1hcDxudW1iZXIsIHN0cmluZz4oW1sweDVjLCBcIlVBSFwiXV0pO1xuXG5leHBvcnQgdHlwZSBDdXJyZW5jeVJlY29yZCA9IHtcbiAgZGVub21pbmF0b3I6IG51bWJlcjtcbiAgdmFsdWU6IG51bWJlcjtcbiAgY3VycmVuY3k6IG51bWJlcjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkUmVzcG9uc2UobWVzc2FnZTogQXJyYXk8bnVtYmVyPik6IGJvb2xlYW4ge1xuICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAvLyBsb2cuZGVidWdFcnJvcihcIkVtcHR5IG1lc3NhZ2VcIiwgbWVzc2FnZSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChtZXNzYWdlWzBdICE9PSBTVEFSVF9XT1JEKSB7XG4gICAgLy8gbG9nLmRlYnVnRXJyb3IoXCJJbnZhbGlkIHN0YXJ0IHdvcmRcIiwgbWVzc2FnZSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChtZXNzYWdlWzFdICE9PSBtZXNzYWdlLmxlbmd0aCkge1xuICAgIC8vIGxvZy5kZWJ1Z0Vycm9yKFwiSW52YWxpZCBsZW5ndGggZmFjdDogXCIgKyBtZXNzYWdlLmxlbmd0aCArIFwiaW4gbWVzc2FnZTogXCIgKyBtZXNzYWdlWzFdKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbGV0IGZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgZm9yIChjb25zdCBtYXAgb2YgW1xuICAgIENPREVTX09GX1JFU1NJVkVSLlNUQVRVUyxcbiAgICBDT0RFU19PRl9SRVNTSVZFUi5QT1dFUl9VUF9TVEFUVVMsXG4gICAgQ09ERVNfT0ZfUkVTU0lWRVIuRVJST1JfU1RBVFVTLFxuICAgIENPREVTX09GX1JFU1NJVkVSLlJFU1BPTlNFX1RPX09QRVJBVElPTl9DT01NQU5ELFxuICAgIENPREVTX09GX1JFU1NJVkVSLlJFU1BPTlNFX1RPX1NFVFRJTkdfQ09NTUFORFxuICBdKSB7XG4gICAgaWYgKG1hcC5oYXMobWVzc2FnZVsyXSkpIHtcbiAgICAgIGZsYWcgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAobWVzc2FnZVsyXSAhPT0gRU5RKSB7XG4gICAgZmxhZyA9IHRydWU7XG4gIH1cbiAgaWYgKCFmbGFnKSB7XG4gICAgLy8gbG9nLmRlYnVnRXJyb3IoXCJJbnZhbGlkIHJlc3BvbnNlIGNvbW1hbmQhXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBjYWxjdWxhdGVkQ1JDOiBBcnJheTxudW1iZXI+ID0gY3JjKG1lc3NhZ2Uuc2xpY2UoMCwgbWVzc2FnZS5sZW5ndGggLSAyKSk7XG4gIGNvbnN0IHVwcGVyQnl0ZTogbnVtYmVyID0gbWVzc2FnZVttZXNzYWdlLmxlbmd0aCAtIDJdO1xuICBjb25zdCBsb3dlckJ5dGU6IG51bWJlciA9IG1lc3NhZ2VbbWVzc2FnZS5sZW5ndGggLSAxXTtcbiAgaWYgKGNhbGN1bGF0ZWRDUkNbMF0gIT09IHVwcGVyQnl0ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoY2FsY3VsYXRlZENSQ1sxXSAhPT0gbG93ZXJCeXRlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZENvbW1hbmRDb2RlKGNvZGU6IG51bWJlcik6IGJvb2xlYW4ge1xuICBjb25zdCBjb2RlczogQXJyYXk8bnVtYmVyPiA9IFtDT0RFU19PRl9UUkFOU01JVFRFUi5TVEFUVVNfUkVRVUVTVCwgQ09ERVNfT0ZfVFJBTlNNSVRURVIuQUNLXTtcbiAgY29kZXMucHVzaCguLi5PYmplY3QudmFsdWVzKENPREVTX09GX1RSQU5TTUlUVEVSLk9QRVJBVElPTl9DT01NQU5EKSk7XG4gIGNvZGVzLnB1c2goLi4uT2JqZWN0LnZhbHVlcyhDT0RFU19PRl9UUkFOU01JVFRFUi5TRVRUSU5HX0NPTU1BTkQpKTtcbiAgY29kZXMucHVzaCguLi5PYmplY3QudmFsdWVzKENPREVTX09GX1RSQU5TTUlUVEVSLlNFVFRJTkdfU1RBVFVTX1JFUVVFU1QpKTtcbiAgcmV0dXJuIGNvZGVzLmluY2x1ZGVzKGNvZGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDdXJyZW5jeVRhYmxlKHJhdzogQXJyYXk8bnVtYmVyPik6IEFycmF5PHsgZGVub21pbmF0b3I6IG51bWJlcjsgdmFsdWU6IG51bWJlcjsgY3VycmVuY3k6IG51bWJlciB9PiB7XG4gIGlmIChSRVNJVkVSX1JFU1BPTlNFUy5SRVNQT05TRV9UT19TRVRUSU5HX0NPTU1BTkQuREVOT01JTkFUSU9OX0RBVEEgIT09IHJhd1syXSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGF0YSBmb3IgY3VycmVuY3kgdGFibGUhXCIpO1xuICB9XG4gIGNvbnN0IHJlc3VsdDogQXJyYXk8eyBkZW5vbWluYXRvcjogbnVtYmVyOyB2YWx1ZTogbnVtYmVyOyBjdXJyZW5jeTogbnVtYmVyIH0+ID0gW107XG4gIGNvbnN0IGRlbm9taW5hdGlvbkRhdGE6IEFycmF5PG51bWJlcj4gPSByYXcuc2xpY2UoMywgcmF3Lmxlbmd0aCAtIDIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRlbm9taW5hdGlvbkRhdGEubGVuZ3RoOyBpICs9IDQpIHtcbiAgICBjb25zdCBpbnRQYXJ0ID0gZGVub21pbmF0aW9uRGF0YVtpICsgMl07XG4gICAgY29uc3QgZXhwb25lbnRQYXJ0ID0gTWF0aC5wb3coMTAsIGRlbm9taW5hdGlvbkRhdGFbaSArIDNdKTtcbiAgICByZXN1bHQucHVzaCh7XG4gICAgICBkZW5vbWluYXRvcjogZGVub21pbmF0aW9uRGF0YVtpXSxcbiAgICAgIHZhbHVlOiBpbnRQYXJ0ICogZXhwb25lbnRQYXJ0LFxuICAgICAgY3VycmVuY3k6IGRlbm9taW5hdGlvbkRhdGFbaSArIDFdXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdE1lc3NhZ2UoY29kZTogbnVtYmVyLCBkYXRhPzogQXJyYXk8bnVtYmVyPiB8IHVuZGVmaW5lZCk6IEFycmF5PG51bWJlcj4ge1xuICBjb25zdCBtZXNzYWdlOiBBcnJheTxudW1iZXI+ID0gW1NUQVJUX1dPUkQsIDBdO1xuICBpZiAoY29kZSA+IDB4YzYgfHwgY29kZSA8IDB4MTApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgY29tbWFuZCBjb2RlIVwiKTtcbiAgfVxuICBtZXNzYWdlLnB1c2goY29kZSk7XG4gIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICBtZXNzYWdlLnB1c2goLi4uZGF0YSk7XG4gIH1cbiAgbWVzc2FnZVsxXSA9IG1lc3NhZ2UubGVuZ3RoICsgMjtcbiAgY29uc3QgY2FsY3VsYXRlZENSQzogQXJyYXk8bnVtYmVyPiA9IGNyYyhtZXNzYWdlKTtcbiAgcmV0dXJuIFsuLi5tZXNzYWdlLCAuLi5jYWxjdWxhdGVkQ1JDXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyYyhkYXRhOiBBcnJheTxudW1iZXI+KTogQXJyYXk8bnVtYmVyPiB7XG4gIGNvbnN0IFRBQkxFID0gW1xuICAgIDB4MDAwMCwgMHgxMTg5LCAweDIzMTIsIDB4MzI5YiwgMHg0NjI0LCAweDU3YWQsIDB4NjUzNiwgMHg3NGJmLCAweDhjNDgsIDB4OWRjMSwgMHhhZjVhLCAweGJlZDMsIDB4Y2E2YywgMHhkYmU1LCAweGU5N2UsIDB4ZjhmNywgMHgxMDgxLCAweDAxMDgsIDB4MzM5MywgMHgyMjFhLFxuICAgIDB4NTZhNSwgMHg0NzJjLCAweDc1YjcsIDB4NjQzZSwgMHg5Y2M5LCAweDhkNDAsIDB4YmZkYiwgMHhhZTUyLCAweGRhZWQsIDB4Y2I2NCwgMHhmOWZmLCAweGU4NzYsIDB4MjEwMiwgMHgzMDhiLCAweDAyMTAsIDB4MTM5OSwgMHg2NzI2LCAweDc2YWYsIDB4NDQzNCwgMHg1NWJkLFxuICAgIDB4YWQ0YSwgMHhiY2MzLCAweDhlNTgsIDB4OWZkMSwgMHhlYjZlLCAweGZhZTcsIDB4Yzg3YywgMHhkOWY1LCAweDMxODMsIDB4MjAwYSwgMHgxMjkxLCAweDAzMTgsIDB4NzdhNywgMHg2NjJlLCAweDU0YjUsIDB4NDUzYywgMHhiZGNiLCAweGFjNDIsIDB4OWVkOSwgMHg4ZjUwLFxuICAgIDB4ZmJlZiwgMHhlYTY2LCAweGQ4ZmQsIDB4Yzk3NCwgMHg0MjA0LCAweDUzOGQsIDB4NjExNiwgMHg3MDlmLCAweDA0MjAsIDB4MTVhOSwgMHgyNzMyLCAweDM2YmIsIDB4Y2U0YywgMHhkZmM1LCAweGVkNWUsIDB4ZmNkNywgMHg4ODY4LCAweDk5ZTEsIDB4YWI3YSwgMHhiYWYzLFxuICAgIDB4NTI4NSwgMHg0MzBjLCAweDcxOTcsIDB4NjAxZSwgMHgxNGExLCAweDA1MjgsIDB4MzdiMywgMHgyNjNhLCAweGRlY2QsIDB4Y2Y0NCwgMHhmZGRmLCAweGVjNTYsIDB4OThlOSwgMHg4OTYwLCAweGJiZmIsIDB4YWE3MiwgMHg2MzA2LCAweDcyOGYsIDB4NDAxNCwgMHg1MTlkLFxuICAgIDB4MjUyMiwgMHgzNGFiLCAweDA2MzAsIDB4MTdiOSwgMHhlZjRlLCAweGZlYzcsIDB4Y2M1YywgMHhkZGQ1LCAweGE5NmEsIDB4YjhlMywgMHg4YTc4LCAweDliZjEsIDB4NzM4NywgMHg2MjBlLCAweDUwOTUsIDB4NDExYywgMHgzNWEzLCAweDI0MmEsIDB4MTZiMSwgMHgwNzM4LFxuICAgIDB4ZmZjZiwgMHhlZTQ2LCAweGRjZGQsIDB4Y2Q1NCwgMHhiOWViLCAweGE4NjIsIDB4OWFmOSwgMHg4YjcwLCAweDg0MDgsIDB4OTU4MSwgMHhhNzFhLCAweGI2OTMsIDB4YzIyYywgMHhkM2E1LCAweGUxM2UsIDB4ZjBiNywgMHgwODQwLCAweDE5YzksIDB4MmI1MiwgMHgzYWRiLFxuICAgIDB4NGU2NCwgMHg1ZmVkLCAweDZkNzYsIDB4N2NmZiwgMHg5NDg5LCAweDg1MDAsIDB4Yjc5YiwgMHhhNjEyLCAweGQyYWQsIDB4YzMyNCwgMHhmMWJmLCAweGUwMzYsIDB4MThjMSwgMHgwOTQ4LCAweDNiZDMsIDB4MmE1YSwgMHg1ZWU1LCAweDRmNmMsIDB4N2RmNywgMHg2YzdlLFxuICAgIDB4YTUwYSwgMHhiNDgzLCAweDg2MTgsIDB4OTc5MSwgMHhlMzJlLCAweGYyYTcsIDB4YzAzYywgMHhkMWI1LCAweDI5NDIsIDB4MzhjYiwgMHgwYTUwLCAweDFiZDksIDB4NmY2NiwgMHg3ZWVmLCAweDRjNzQsIDB4NWRmZCwgMHhiNThiLCAweGE0MDIsIDB4OTY5OSwgMHg4NzEwLFxuICAgIDB4ZjNhZiwgMHhlMjI2LCAweGQwYmQsIDB4YzEzNCwgMHgzOWMzLCAweDI4NGEsIDB4MWFkMSwgMHgwYjU4LCAweDdmZTcsIDB4NmU2ZSwgMHg1Y2Y1LCAweDRkN2MsIDB4YzYwYywgMHhkNzg1LCAweGU1MWUsIDB4ZjQ5NywgMHg4MDI4LCAweDkxYTEsIDB4YTMzYSwgMHhiMmIzLFxuICAgIDB4NGE0NCwgMHg1YmNkLCAweDY5NTYsIDB4NzhkZiwgMHgwYzYwLCAweDFkZTksIDB4MmY3MiwgMHgzZWZiLCAweGQ2OGQsIDB4YzcwNCwgMHhmNTlmLCAweGU0MTYsIDB4OTBhOSwgMHg4MTIwLCAweGIzYmIsIDB4YTIzMiwgMHg1YWM1LCAweDRiNGMsIDB4NzlkNywgMHg2ODVlLFxuICAgIDB4MWNlMSwgMHgwZDY4LCAweDNmZjMsIDB4MmU3YSwgMHhlNzBlLCAweGY2ODcsIDB4YzQxYywgMHhkNTk1LCAweGExMmEsIDB4YjBhMywgMHg4MjM4LCAweDkzYjEsIDB4NmI0NiwgMHg3YWNmLCAweDQ4NTQsIDB4NTlkZCwgMHgyZDYyLCAweDNjZWIsIDB4MGU3MCwgMHgxZmY5LFxuICAgIDB4Zjc4ZiwgMHhlNjA2LCAweGQ0OWQsIDB4YzUxNCwgMHhiMWFiLCAweGEwMjIsIDB4OTJiOSwgMHg4MzMwLCAweDdiYzcsIDB4NmE0ZSwgMHg1OGQ1LCAweDQ5NWMsIDB4M2RlMywgMHgyYzZhLCAweDFlZjEsIDB4MGY3OFxuICBdO1xuICBsZXQgY3JjID0gMHgwMDAwMDtcbiAgZm9yIChjb25zdCBlbGVtIG9mIGRhdGEpIHtcbiAgICBjcmMgPSAoY3JjID4+IDgpIF4gVEFCTEVbKGNyYyBeIGVsZW0pICYgMHhmZl07XG4gIH1cbiAgY29uc3QgcmVzdWx0OiBBcnJheTxudW1iZXI+ID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgKytpKSB7XG4gICAgcmVzdWx0LnB1c2goKGNyYyA+PiAoOCAqIGkpKSAmIDB4ZmYpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG4iXX0=